\documentclass{article}
\usepackage{amsmath}
\begin{document}
\thispagestyle{empty}
\begin{tabular}{crrl}
  Input & Output & $P(\text{Output})$ & Updated contexts\\
  \hline
  {\tt a} & $c(\mathtt{ESC}|M[{\cal C}[0]])$ & $1$ & $M[{\cal C}[0]]=\{\mathtt{ESC},2~\mathtt{a},1\}$\\
  ~ & $c(\mathtt{a}|M[{\cal C}[-1]])$ & $1/(r+1)$ & $M[{\cal C}[-1]]=\{\text{all symbols with count 1}\}$\\
  {\tt b} & $c(\mathtt{ESC}|M[\texttt{a}])$ & $1$ & $M[\mathtt{a}]=\{\mathtt{ESC},1~\mathtt{b},1\}$\\
  ~ & $c(\mathtt{ESC}|M[{\cal C}[0]])$ & $2/3$ & $M[c[0]]=\{\mathtt{ESC},3~\mathtt{a},1~\mathtt{b},1\}$\\
  ~ & $c(\mathtt{b}|M[{\cal C}[-1]])$ & $1/r$ & $M[{\cal C}[-1]]=\{\text{all symbols with count 1}\}$ \\
  {\tt a} & $c(\mathtt{ESC}|M[\texttt{b}])$ & $1$ & $M[\mathtt{b}]=\{\mathtt{ESC},1~\mathtt{a},1\}$\\
 ~ & $c(\mathtt a|M[{\cal C}[0]])$ & $1/3-5$ & $M[{\cal C}[0]]=\{\mathtt{ESC},3~\mathtt{a},2~\mathtt{b},1\}$\\
    {\tt b} & $c(\mathtt b|M[\mathtt{a}])$ & $1/2$ & $M[\mathtt{a}]=\{\mathtt{ESC},1~\mathtt{b},2\}$\\
    {\tt c} & $c_{M[\mathtt{b}]}(\mathtt{ESC})c_{M[{\cal C}[0]]}(\mathtt{ESC})c_{M[{\cal C}[-1]]}(\mathtt c)$ & $1/2\cdot 1/4\cdot 1/(r-1)$ & $M[\mathtt{b}]=\{\mathtt{ESC},1~\mathtt{a},1~\mathtt{c},1\}$\\
    ~       & & & $M[{\cal C}[0]]=\{\mathtt{ESC},4~\mathtt{a},2~\mathtt{b},1~\mathtt{c},1\}$\\
    {\tt b} & $c_{M[\texttt{c}]}(\mathtt{ESC})c_{M[{\cal C}[0]]}(\mathtt b)$ & $1\cdot 1/5$ & $M[\mathtt{c}]=\{\mathtt{ESC},1~\mathtt{b},1\}$\\
    ~       & & & $M[{\cal C}[0]]=\{\mathtt{ESC},4~\mathtt{a},2~\mathtt{b},2~\mathtt{c},1\}$\\ 
    {\tt a} & $c_{M[\mathtt{b]}}(\mathtt a)$ & $1/3$ & $M[\mathtt{b}]=\{\mathtt{ESC},1~\mathtt{a},2~\mathtt{c},1\}$\\
    {\tt b} & $c_{M[\mathtt{a}]}(\mathtt b)$ & $2/3$ & $M[\mathtt{a}]=\{\mathtt{ESC},1~\mathtt{b},3\}$\\
    {\tt a} & $c_{M[\mathtt{b}]}(\mathtt a)$ & $2/4$ & $M[\mathtt{b}]=\{\mathtt{ESC},1~\mathtt{a},3~\mathtt{c},1\}$\\
    {\tt b} & $c_{M[\mathtt{a}]}(\mathtt b)$ & $3/4$ & $M[\mathtt{a}]=\{\mathtt{ESC},1~\mathtt{b},4\}$\\
    {\tt a} & $c_{M[\mathtt{b}]}(\mathtt a)$ & $3/5$ & $M[\mathtt{b}]=\{\mathtt{ESC},1~\mathtt{a},4~\mathtt{c},1\}$\\
    {\tt a} & $c_{M[\mathtt{a}]}(\mathtt{ESC})c_{M[{\cal C}[0]]}(\mathtt a)$ & $1/5\cdot 2/4$ & $M[\mathtt{a}]=\{\mathtt{ESC},1~\mathtt{a},1~\mathtt{b},4\}$\\
    ~       & & & $M[{\cal C}[0]]=\{\mathtt{ESC},4~\mathtt{a},3~\mathtt{b},2~\mathtt{c},1\}$\\
    {\tt a} & $c_{M[\mathtt{a}]}(\mathtt a)$ & $1/6$ & $M[\mathtt{a}]=\{\mathtt{ESC},1~\mathtt{a},2~\mathtt{b},4\}$\\
    {\tt a} & $c_{M[\mathtt{a}]}(\mathtt a)$ & $2/7$ & $M[\mathtt{a}]=\{\mathtt{ESC},1~\mathtt{a},3~\mathtt{b},4\}$\\
    {\tt a} & $c_{M[\mathtt{a}]}(\mathtt a)$ & $3/8$ & $M[\mathtt{a}]=\{\mathtt{ESC},1~\mathtt{a},4~\mathtt{b},4\}$\\
    {\tt a} & $c_{M[\mathtt{a}]}(\mathtt a)$ & $4/9$ & $M[\mathtt{a}]=\{\mathtt{ESC},1~\mathtt{a},5~\mathtt{b},4\}$\\
    {\tt a} & $c_{M[\mathtt{a}]}(\mathtt a)$ & $5/10$ & $M[\mathtt{a}]=\{\mathtt{ESC},1~\mathtt{a},6~\mathtt{b},4\}$
  \end{tabular}
\end{document}

